["function _6054aaf357ede00990592a75b6c5b8214fe050c3",50,578493,"defaultUserImage:\"resources/images/user.jpg\"",578542,69,"defaultSearchRadius:700,defaultLocation:\"-33.8670522,151.1957362\",amimationDuration:100,listImageMaxWidth:300,listImageMaxHeight:300",578610,200,"7",578812,270,"b=Ext.apply({type:\"fade\",duration:this.amimationDuration},b||{});if(a&&c){",579187,65,"}else{a.setActiveItem(c)}}",579329,41,579388,106,"destroyContainer:function(a,b){Ext.Function.defer(Ext.destroy,(b||250),this,[a])},showAlertBox:function(b){var a=Ext.create(\"Ext.Container\",{cls:\"alert-box-container\",centered:true,showAnimation:\"fadeIn\",hideAnimation:\"fadeOut\",html:b}",593921,36,"add(a)},300);Ext.defer(function(){a.destroy()},1500",579631,356,"Lang.noRating",579492,142,"prettyDate:(function(){var a={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592000,year:31536000};return function(e){e=+new Date(e);var f=((+new Date())-e)/1000,c,d;for(var b in a){if(f>a[b]){d=b}}c=f/a[d];c=f>a.day?(Math.round(c*100)/100):Math.round(c);c=Math.ceil(c);c+=\" \"+d+(c>1?\"s\":\"\")+\" ago\";return c}})(),onBrokenProfileImage:function(a){a.onerror=\"\";a.src=Glasgow2014.util.Util.defaultUserImage;return true",579995,459,",{name:\"addres",582429,32,580483,404,"model.Schedule",580714,518,"HomeContainer\",{extend:Ext.Panel,xtype:\"homepanel\",fullscreen:true,config:{title:\"Home\",iconCls:\"info\",cls:\"homepage\",layout:{type:\"vbox\",align:\"center\"},items:[{dock:\"top\",xtype:\"toolbar\",title:\"Home\",cls:\"title\"},{html:[\"<br/>\",\"<div class='myContainer'>\",\"<br/>\",\"<br/>\",\"<div >Developer:  Andrea Daly  Email: andiedaly@gmail.com</div>\",\"<br/><br/>\",\"</div>\"].join(\"\")",582431,37,581234,126,"<p>Address is {address",581398,121,",action:\"buttonTap\",parmListId:\"{venue}",581518,424,",address:b.parentNode.get(\"address\"),text:b.get(\"text",581940,49,582466,143,"homepanel\",title:\"Home\",iconCls:\"home",582646,74,"2\",title:\"Pit Stop",582781,94,585113,287,"schedulePlaceList:\"schedule",585389,75,"chedulePlaceMap:'map[name=\"schedule_",585450,208,583177,35,",",585658,277,"chedulePlaceMap:{maprender:\"showSchedule",585918,809,"api",586726,63,"console.log(\"places loc is \"+d.util.userLocation",586787,89,";console.log(\"places store is \"+a",586875,250,"onButtonTap:function(a){console.log(\"Show list selected via button #\"+a.id+\" having action: \"+a.action+\" with parm: \"+a.parmListId",584415,90,"showHome:function(){console.log(\"in show home\");",587145,610,"console.log(\"map button clicked\");",587755,308,"c,d){var e=this;var b;var f;var a;userLocation=e.util.userLocation.split(\",\"),currentPosition=new google.maps.LatLng(userLocation[0],userLocation[1]),image=",589103,46,588202,68,"ib",588271,237,588962,33,"currentPosition,map:d",589097,131,"setupInfoBubble=function(h,g",588522,32,"g,\"mousedown\",function(i){if(ib){ib.close()}ib.placeReference=h.reference;ib",588626,48,"h.name,\"</div>\"].join(\"\"));ib.open(d",588709,43,"ib.bubble_,\"click\",function(){if(e.activeCategoryType){e.redirectTo(\"categories/\"+e.activeCategoryType+\"/\"+ib.placeReference)}});e",588880,41,"g){console.log(g.getData());f=g.getData(),b=f.geometry.location,a",588961,57,"b.lat,b.lng),map:d,icon:image});setupInfoBubble(f,a)},e);Ext.defer(function(){d.setCenter(currentPosition)},100)},showSchedulePlacesMarkers:function(e,b){var a=-4.175422;var g=55.8450285;var k=\"{venue}\";var i=g+\",\"+a;var h=this;var j;var d;var c;alert(\"venunue is\"+k);currentPosition=new google.maps.LatLng(g,a),image=",589103,46,588202,68,"ib",588271,85,588369,74,588460,33,"}),",588962,33,"currentPosition,map:b",589097,131,"setupInfoBubble",588509,74,"ib){ib.close()}ib.placeReference=m.reference;ib",588626,75,"ib.open(b",588709,43,"ib",588753,105,"ib.placeReference)}});var f=Ext.getStore(\"SchedulePlaces\");f",586625,37,"i,action:h.util.api.nearBySearch,radius:h.util.api",586726,38,"h.util.API_KEY,types:\"bar\"});console.log(\"venuePosition is \"+i);f.load({scope:this,callback:function(m,l,n){f.each(function(o){console.log(\"srecord is \"+o.getData());d=o.getData(),j=d.geometry.location,c",588961,74,"b,icon:image});setupInfoBubble(d,c)});console.log(\"shopeful\")}});console.log(\"sched store is \"+f);Ext.defer(function(){b.setCenter(currentPosition",589262,171,"controller.PlaceDetail",582846,66,"outes:{\"categories/:type/:reference\":\"showDetails\"},refs:{main:\"main2\",placeDetailsPanel:\"detailspanel\",placeDetailsInfo:\"info\",placeDetailsGallery:\"gallery\",placeDetailsReview:\"review\"},control:{placeDetailsReview:{initialize:\"handleReviewExpansion\"}}},showDetails:function(c,a){var b=this;if(!b.getPlaceDetailsPanel()){b.getMain().add({xtype:\"detailspanel\"})}b.util.showActiveItem(b.getMain(),b.getPlaceDetailsPanel());b.loadPlaceDetails(a);b",586492,45,"c);b.getApplication().fireEvent(\"placechange\",a)},loadPlaceDetails:function(a){var b=this;b.util.showLoading(b.getPlaceDetailsPanel(),true);Ext.Ajax.request({url:b.util.api.baseUrl,method:\"GET\",params:{action:b.util.api.details,reference:a,key:b.util.API_KEY,sensor:true},success:function(c){b.util.showLoading(b.getPlaceDetailsPanel(),false);var d=b.currentLocation=Ext.decode(c.responseText);b.getPlaceDetailsInfo().setData(d.result);b.getPlaceDetailsGallery().setData(d.result);b.getPlaceDetailsReview().setData(d.result);b.showPlaceLocation()},failure:function(){b.util.showMsg(Lang.serverConnectionError)}})},showPlaceLocation:function(){var a=this,b=function(){var c=a.currentLocation.result.geometry.location,d=new google.maps.LatLng(c.lat,c.lng),e=",589103,46,588202,67,";a.singleMapMarker",588961,34,"d,map:a.gmap,icon:e});Ext.defer(function(){a.gmap.setCenter(d)},100)};if(a.singleMap){a.singleMap.destroy()}a.singleMap=Ext.create(\"Ext.Map\",{renderTo:a.getPlaceDetailsInfo().element.down(\".map\"),height:140,mapOptions:{zoom:15},listeners:{maprender:function(d,c){a.gmap=c;b()}}})},handleReviewExpansion:function(a){a.element.on(\"singletap\",function(c,b){b=Ext.get(b),textEl=b.parent(\".text\");if(b.getAttribute(\"data-action\")===\"more\"){textEl.setHtml(textEl.next(\".full-review\").getHtml()+' <span data-action=\"less\" class=\"resize-action\">less</span>')}if(b.getAttribute(\"data-action\")===\"less\"){textEl.setHtml(Ext.String.ellipsis(textEl.getHtml(),120)+' <span data-action=\"more\" class=\"resize-action\">more</span>')}},this,{delegate:\".resize-action\"})",581056,33,"List",590270,33,582026,440,589438,828,"Map",590270,33,590380,56,"name:\"schedule_place_map\",height:\"100%",592511,33,590493,124,590687,57,591364,296,"document.getElementById(\"tpl_placelist_item\").innerHTML",591849,80,591930,48,"['<div class=\"icon-wrapper\">','",592005,69,"',\"</div>\"].join(\"\")",592081,189,"Places",592651,43,592317,724,"tpl:Ext.create(\"Ext.XTemplate\",document.getElementById(\"tpl_place_details_info\").innerHTML,{",592083,66,581056,33,593074,69,"Lang.gallery",593152,167,"Lang.placeDetails.emptyGallery",593351,257,"console.log(\"in galleryt\")",593607,646,"tpl:Ext.create(\"Ext.XTemplate\",document.getElementById(\"tpl_place_details_reviews\").innerHTML,{toTitleCase",592092,42,"toTitleCase(a)},getDate",592092,42,"prettyDate(a*1000)},getUserImage:function(b){if(b){var a=b.split(\"/\");return\"https://plus.google.com/s2/photos/profile/\"+a[a.length-1]+\"?sz=50\"}return Glasgow2014.util.Util.defaultUserImage},getStars",592092,53,",3,true)},isEmpty:function(a){if(!a.reviews||a.review",593532,39,",applyExpandable:function(a){var b=a.text;if(b.length>120){b=Ext.String.ellipsis(b,120)+' <span data-action=\"more\" class=\"resize-action\">more</span>'}return b}})",581056,33,594286,728,"onsole.log(\"image count is\"+a.length",595011,362,"onsole.log(\"in images add\"+a[b].src);",595372,275,"view.Schedule",591516,35,"schedule",591551,53,"SchedulePlaces\",emptyText:\"\"",592149,45,"schedule_place_list_tbar\",}]",596062,34,595653,955,595833,34,596422,64,"Schedule",596486,114,",listeners:{load:function(a){alert(a.getCount())}}}});Ext.Loader.setPath({Ext:\"touch/src\",Glasgow2014:\"app\"",596601,97,",\"Schedule",596692,73,",\"Schedule",596758,272,",\"SchedulePlaceList",597029,32,",\"PlaceDetails",597060,177]